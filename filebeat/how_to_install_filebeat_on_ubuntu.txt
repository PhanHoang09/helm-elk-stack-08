
====>>>>> How to Install FileBeat on Ubuntu

apt-get update -y

apt-get install apt-transport-https -y


wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | apt-key add -
wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo gpg --dearmor -o /usr/share/keyrings/elasticsearch-keyring.gpg



======>>> Save the repository definition to /etc/apt/sources.list.d/elastic-8.x.list:
echo "deb [signed-by=/usr/share/keyrings/elasticsearch-keyring.gpg] https://artifacts.elastic.co/packages/8.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-8.x.list


apt-get update -y
apt-get install filebeat -y

=====> Configure Filebeat
nano /etc/filebeat/filebeat.yml

#-------------------------- General ----------------------

# The name of the shipper that publishes the network data. It can be used to group
# all the transactions sent by a single shipper in the web interface.
#name:

# The tags of the shipper are included in their own field with each
# transaction published.
#tags: ["service-X", "web-tier"]
#### mục địch của việc tạo tags này khi server đẩy log lên logstash nếu có tag là linuxhost thì sẽ đánh index theo cấu hình logstash
#### ví dụ khi server cấu hình tags là linuxhost khi đẩy lên logstash sẽ đc đánh index có dạng index => "logstash_linuxhost_%{+YYYY.MM.dd}"
tags: ["linuxhost"]

#-------------------------- Elasticsearch output ------------------------------
### không sử dụng đẩy log trực tiếp vào elasticsearch nên comment lại
# output.elasticsearch:
  # Array of hosts to connect to.
  # hosts: ["localhost:9200"]

#----------------------------- Logstash output --------------------------------
##### khai báo thông tin logstash gồm địa chỉ logstash và port logstash
output.logstash:
  # The Logstash hosts
  hosts: ["logstash08-anhpt8.citigo.com.vn:31544"]

======>>>> Enable Filebeat System Module
filebeat modules enable system

nano /etc/filebeat/modules.d/system.yml


systemctl start filebeat
systemctl status filebeat
systemctl enable filebeat

Add Index on Kibana




